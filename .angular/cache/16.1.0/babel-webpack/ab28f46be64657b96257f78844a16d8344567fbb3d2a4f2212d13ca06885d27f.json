{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nlet AddProductComponent = class AddProductComponent {\n  constructor(router, productservice) {\n    this.router = router;\n    this.productservice = productservice;\n    this.editProd = [];\n    this.dataStorageUpdated = new EventEmitter();\n    this.addProductData = {\n      id: null,\n      name: '',\n      price: null,\n      description: '',\n      image: ''\n    };\n    this.data_storage = [];\n    this.editproduct = 0;\n    this.checkLoginStatus();\n  }\n  checkLoginStatus() {\n    if (localStorage.getItem('isLoggedIn') !== 'true') {\n      this.router.navigate(['/login']);\n    }\n  }\n  ngOnInit() {\n    this.getProductData();\n  }\n  onFileChange(event) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.addProductData.image = reader.result;\n      const base64String = event.target.result;\n      console.log(base64String);\n    };\n    reader.readAsDataURL(file);\n  }\n  onSubmit() {\n    let productData = {\n      id: this.addProductData.id,\n      name: this.addProductData.name,\n      price: this.addProductData.price,\n      description: this.addProductData.description,\n      image: this.addProductData.image,\n      quantity: 0\n    };\n    if (productData) {\n      this.dataStorageUpdated.emit(productData);\n      this.router.navigate(['/product-list']);\n    }\n  }\n  getProductData() {\n    this.productservice.editProductData$.subscribe(data => {\n      this.editproduct = data.length;\n      if (data.length > 0) {\n        const receivedData = data[0];\n        this.addProductData.id = receivedData.id;\n        this.addProductData.name = receivedData.name;\n        this.addProductData.price = receivedData.price;\n        this.addProductData.description = receivedData.description;\n        console.log('Received data in second component:', this.addProductData);\n      }\n    });\n  }\n};\n__decorate([Input()], AddProductComponent.prototype, \"editProd\", void 0);\n__decorate([Output()], AddProductComponent.prototype, \"dataStorageUpdated\", void 0);\nAddProductComponent = __decorate([Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.component.html',\n  styleUrls: ['./add-product.component.css']\n})], AddProductComponent);\nexport { AddProductComponent };","map":{"version":3,"names":["Component","EventEmitter","Input","Output","AddProductComponent","constructor","router","productservice","editProd","dataStorageUpdated","addProductData","id","name","price","description","image","data_storage","editproduct","checkLoginStatus","localStorage","getItem","navigate","ngOnInit","getProductData","onFileChange","event","file","target","files","reader","FileReader","onload","result","base64String","console","log","readAsDataURL","onSubmit","productData","quantity","emit","editProductData$","subscribe","data","length","receivedData","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\shali\\OneDrive\\Desktop\\new project shalini\\task-angular updated\\task-angular updated\\src\\app\\main\\add-product\\add-product.component.ts"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ProductService } from 'src/app/login/services/product.service';\n\n@Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.component.html',\n  styleUrls: ['./add-product.component.css']\n})\nexport class AddProductComponent {\n  @Input() editProd: any[] = [];\n  @Output() dataStorageUpdated = new EventEmitter<any>();\n\n  addProductData: any = { id: null,\n    name: '',\n    price: null,\n    description: '',\n    image: ''};\n  data_storage: any[] = [];\n  editproduct: number = 0;\n\n  constructor(private router: Router, private productservice: ProductService) {\n    this.checkLoginStatus();\n  }\n\n  checkLoginStatus() {\n    if (localStorage.getItem('isLoggedIn') !== 'true') {\n      this.router.navigate(['/login']);\n    }\n  }\n\n  ngOnInit(): void {\n    this.getProductData(); \n  }\n\n  onFileChange(event: any) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.addProductData.image = reader.result as string;\n      const base64String = event.target.result;\n      console.log(base64String);\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  onSubmit() {\n    let productData = {\n      id: this.addProductData.id,\n      name: this.addProductData.name,\n      price: this.addProductData.price,\n      description: this.addProductData.description,\n      image: this.addProductData.image,\n      quantity: 0\n      \n    };\n\n    if (productData) { \n      this.dataStorageUpdated.emit(productData);\n      this.router.navigate(['/product-list']);\n    }\n  }\n\n \n  getProductData() {\n    this.productservice.editProductData$.subscribe((data) => {\n      this.editproduct = data.length;\n      \n      if (data.length > 0) {\n        const receivedData = data[0];\n        this.addProductData.id = receivedData.id;\n        this.addProductData.name = receivedData.name;\n        this.addProductData.price = receivedData.price;\n        this.addProductData.description = receivedData.description;\n        console.log('Received data in second component:', this.addProductData);\n      }\n    });\n  }\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}