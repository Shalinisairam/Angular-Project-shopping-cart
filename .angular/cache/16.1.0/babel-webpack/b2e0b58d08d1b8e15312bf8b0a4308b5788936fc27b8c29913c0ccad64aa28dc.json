{"ast":null,"code":"import * as i0 from \"@angular/core\";\nclass ProductListComponent {\n  checkLoginStatus() {\n    if (localStorage.getItem('isLoggedIn') !== 'true') {\n      this.router.navigate(['/login']);\n    }\n  }\n  ngOnInit() {\n    this.getProductData();\n  }\n  onFileChange(event) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.addProductData.image = reader.result;\n      const base64String = event.target.result;\n      console.log(base64String);\n    };\n    reader.readAsDataURL(file);\n  }\n  onSubmit() {\n    let productData = {\n      id: this.addProductData.id,\n      name: this.addProductData.name,\n      price: this.addProductData.price,\n      description: this.addProductData.description,\n      image: this.addProductData.image,\n      quantity: 0\n    };\n    if (productData) {\n      // Check if productData is not null or undefined\n      this.dataStorageUpdated.emit(productData);\n    }\n  }\n  // Move getProductData outside of onSubmit\n  getProductData() {\n    this.productservice.editProductData$.subscribe(data => {\n      this.editproduct = data.length;\n      if (data.length > 0) {\n        const receivedData = data[0];\n        this.addProductData.id = receivedData.id;\n        this.addProductData.name = receivedData.name;\n        this.addProductData.price = receivedData.price;\n        this.addProductData.description = receivedData.description;\n        console.log('Received data in second component:', this.addProductData);\n      }\n    });\n  }\n}\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)();\n};\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"app-product-list\"]],\n  decls: 0,\n  vars: 0,\n  template: function ProductListComponent_Template(rf, ctx) {},\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ProductListComponent };","map":{"version":3,"names":["ProductListComponent","checkLoginStatus","localStorage","getItem","router","navigate","ngOnInit","getProductData","onFileChange","event","file","target","files","reader","FileReader","onload","addProductData","image","result","base64String","console","log","readAsDataURL","onSubmit","productData","id","name","price","description","quantity","dataStorageUpdated","emit","productservice","editProductData$","subscribe","data","editproduct","length","receivedData","selectors","decls","vars","template","ProductListComponent_Template","rf","ctx","styles"],"sources":["C:\\Users\\shali\\OneDrive\\Desktop\\new project shalini\\task-angular updated\\task-angular updated\\src\\app\\main\\product-list\\product-list.component.ts"],"sourcesContent":["import { Router } from '@angular/router';\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { ProductService } from 'src/app/login/services/product.service';\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})\nexport class ProductListComponent {\n\n \n\n  checkLoginStatus() {\n    if (localStorage.getItem('isLoggedIn') !== 'true') {\n      this.router.navigate(['/login']);\n    }\n  }\n\n  ngOnInit(): void {\n    this.getProductData(); \n  }\n\n  onFileChange(event: any) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      this.addProductData.image = reader.result as string;\n      const base64String = event.target.result;\n      console.log(base64String);\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  onSubmit() {\n    let productData = {\n      id: this.addProductData.id,\n      name: this.addProductData.name,\n      price: this.addProductData.price,\n      description: this.addProductData.description,\n      image: this.addProductData.image,\n      quantity: 0\n    };\n\n    if (productData) { // Check if productData is not null or undefined\n      this.dataStorageUpdated.emit(productData);\n    }\n  }\n\n  // Move getProductData outside of onSubmit\n  getProductData() {\n    this.productservice.editProductData$.subscribe((data) => {\n      this.editproduct = data.length;\n      \n      if (data.length > 0) {\n        const receivedData = data[0];\n        this.addProductData.id = receivedData.id;\n        this.addProductData.name = receivedData.name;\n        this.addProductData.price = receivedData.price;\n        this.addProductData.description = receivedData.description;\n        console.log('Received data in second component:', this.addProductData);\n      }\n    });\n  }\n}\n"],"mappings":";AAIA,MAKaA,oBAAoB;EAI/BC,gBAAgBA,CAAA;IACd,IAAIC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,KAAK,MAAM,EAAE;MACjD,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;EAEpC;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAC,YAAYA,CAACC,KAAU;IACrB,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC,MAAMC,MAAM,GAAG,IAAIC,UAAU,EAAE;IAE/BD,MAAM,CAACE,MAAM,GAAG,MAAK;MACnB,IAAI,CAACC,cAAc,CAACC,KAAK,GAAGJ,MAAM,CAACK,MAAgB;MACnD,MAAMC,YAAY,GAAGV,KAAK,CAACE,MAAM,CAACO,MAAM;MACxCE,OAAO,CAACC,GAAG,CAACF,YAAY,CAAC;IAC3B,CAAC;IAEDN,MAAM,CAACS,aAAa,CAACZ,IAAI,CAAC;EAC5B;EAEAa,QAAQA,CAAA;IACN,IAAIC,WAAW,GAAG;MAChBC,EAAE,EAAE,IAAI,CAACT,cAAc,CAACS,EAAE;MAC1BC,IAAI,EAAE,IAAI,CAACV,cAAc,CAACU,IAAI;MAC9BC,KAAK,EAAE,IAAI,CAACX,cAAc,CAACW,KAAK;MAChCC,WAAW,EAAE,IAAI,CAACZ,cAAc,CAACY,WAAW;MAC5CX,KAAK,EAAE,IAAI,CAACD,cAAc,CAACC,KAAK;MAChCY,QAAQ,EAAE;KACX;IAED,IAAIL,WAAW,EAAE;MAAE;MACjB,IAAI,CAACM,kBAAkB,CAACC,IAAI,CAACP,WAAW,CAAC;;EAE7C;EAEA;EACAjB,cAAcA,CAAA;IACZ,IAAI,CAACyB,cAAc,CAACC,gBAAgB,CAACC,SAAS,CAAEC,IAAI,IAAI;MACtD,IAAI,CAACC,WAAW,GAAGD,IAAI,CAACE,MAAM;MAE9B,IAAIF,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;QACnB,MAAMC,YAAY,GAAGH,IAAI,CAAC,CAAC,CAAC;QAC5B,IAAI,CAACnB,cAAc,CAACS,EAAE,GAAGa,YAAY,CAACb,EAAE;QACxC,IAAI,CAACT,cAAc,CAACU,IAAI,GAAGY,YAAY,CAACZ,IAAI;QAC5C,IAAI,CAACV,cAAc,CAACW,KAAK,GAAGW,YAAY,CAACX,KAAK;QAC9C,IAAI,CAACX,cAAc,CAACY,WAAW,GAAGU,YAAY,CAACV,WAAW;QAC1DR,OAAO,CAACC,GAAG,CAAC,oCAAoC,EAAE,IAAI,CAACL,cAAc,CAAC;;IAE1E,CAAC,CAAC;EACJ;;AAxDWhB,oBAAoB,C;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB,C;QAApBA,oBAAoB;EAAAuC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;EAAAC,MAAA;AAAA;SAApB9C,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}