{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/login/services/product.service\";\nclass AddProductComponent {\n  constructor(router, productservice) {\n    this.router = router;\n    this.productservice = productservice;\n    this.editProd = [];\n    this.dataStorageUpdated = new EventEmitter();\n    this.addProductData = {\n      id: null,\n      name: '',\n      price: null,\n      description: '',\n      image: ''\n    };\n    this.editproduct = 0;\n    this.checkLoginStatus();\n  }\n  checkLoginStatus() {\n    if (localStorage.getItem('isLoggedIn') !== 'true') {\n      this.router.navigate(['/login']);\n    }\n  }\n  ngOnInit() {\n    this.getProductData();\n  }\n  // Handles image upload and stores it as a base64 string\n  onFileChange(event) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = () => {\n      // Assign base64 string to product image field\n      this.addProductData.image = reader.result;\n      console.log(this.addProductData.image); // Debugging: Check if image is converted correctly\n    };\n    // Only read the file if it exists\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  }\n  // Handles form submission and emits product data to the parent component\n  onSubmit() {\n    let productData = {\n      id: this.addProductData.id,\n      name: this.addProductData.name,\n      price: this.addProductData.price,\n      description: this.addProductData.description,\n      image: this.addProductData.image,\n      quantity: 0\n    };\n    if (productData) {\n      // Emit data to parent component\n      this.dataStorageUpdated.emit(productData);\n      console.log('Product Submitted:', productData); // Debugging: Check emitted data\n      // Clear the form after submission (optional)\n      this.addProductData = {\n        id: null,\n        name: '',\n        price: null,\n        description: '',\n        image: ''\n      };\n      this.router.navigate(['/product-list']);\n    }\n  }\n  getProductData() {\n    this.productservice.editProductData$.subscribe(data => {\n      this.editproduct = data.length;\n      if (data.length > 0) {\n        const receivedData = data[0];\n        this.addProductData.id = receivedData.id;\n        this.addProductData.name = receivedData.name;\n        this.addProductData.price = receivedData.price;\n        this.addProductData.description = receivedData.description;\n        console.log('Received data in edit:', this.addProductData); // Debugging: Check received data\n      }\n    });\n  }\n}\n\nAddProductComponent.ɵfac = function AddProductComponent_Factory(t) {\n  return new (t || AddProductComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductService));\n};\nAddProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddProductComponent,\n  selectors: [[\"app-add-product\"]],\n  inputs: {\n    editProd: \"editProd\"\n  },\n  outputs: {\n    dataStorageUpdated: \"dataStorageUpdated\"\n  },\n  decls: 0,\n  vars: 0,\n  template: function AddProductComponent_Template(rf, ctx) {},\n  styles: [\".register-form[_ngcontent-%COMP%] {\\n    background-color: #f0f8ff; \\n    padding: 30px;\\n    margin: 50px auto;\\n    width: 500px;\\n    border-radius: 8px;\\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\\n}\\n\\n\\n.form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 20px;\\n}\\n\\n\\n.add-product-btn[_ngcontent-%COMP%] {\\n    background-color: #007bff; \\n    color: white;\\n    width: 100%;\\n    padding: 10px;\\n    border: none;\\n    border-radius: 5px;\\n    font-size: 16px;\\n    cursor: pointer;\\n}\\n\\n.add-product-btn[_ngcontent-%COMP%]:hover {\\n    background-color: #0056b3; \\n}\\n\\n\\n.form-control[_ngcontent-%COMP%] {\\n    border-radius: 4px;\\n    padding: 10px;\\n    font-size: 14px;\\n}\\n\\n\\n.form-floating[_ngcontent-%COMP%] {\\n    position: relative;\\n}\\n\\ntextarea.form-control[_ngcontent-%COMP%] {\\n    resize: none;\\n}\\n\\nlabel[for=\\\"floatingTextarea2\\\"][_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: -11px;\\n    left: -3px;\\n    font-size: 14px;\\n    color: #6c757d;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFpbi9hZGQtcHJvZHVjdC9hZGQtcHJvZHVjdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kseUJBQXlCO0lBQ3pCLGFBQWE7SUFDYixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQix5Q0FBeUM7QUFDN0M7OztBQUdBO0lBQ0ksbUJBQW1CO0FBQ3ZCOzs7QUFHQTtJQUNJLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osV0FBVztJQUNYLGFBQWE7SUFDYixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixlQUFlO0FBQ25COztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOzs7QUFHQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsZUFBZTtBQUNuQjs7O0FBR0E7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixVQUFVO0lBQ1YsZUFBZTtJQUNmLGNBQWM7QUFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyIucmVnaXN0ZXItZm9ybSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmOGZmOyBcclxuICAgIHBhZGRpbmc6IDMwcHg7XHJcbiAgICBtYXJnaW46IDUwcHggYXV0bztcclxuICAgIHdpZHRoOiA1MDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG59XHJcblxyXG5cclxuLmZvcm0tZ3JvdXAge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuXHJcbi5hZGQtcHJvZHVjdC1idG4ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjsgXHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5hZGQtcHJvZHVjdC1idG46aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZiMzsgXHJcbn1cclxuXHJcblxyXG4uZm9ybS1jb250cm9sIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbn1cclxuXHJcblxyXG4uZm9ybS1mbG9hdGluZyB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbnRleHRhcmVhLmZvcm0tY29udHJvbCB7XHJcbiAgICByZXNpemU6IG5vbmU7XHJcbn1cclxuXHJcbmxhYmVsW2Zvcj1cImZsb2F0aW5nVGV4dGFyZWEyXCJdIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogLTExcHg7XHJcbiAgICBsZWZ0OiAtM3B4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgY29sb3I6ICM2Yzc1N2Q7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { AddProductComponent };","map":{"version":3,"names":["EventEmitter","AddProductComponent","constructor","router","productservice","editProd","dataStorageUpdated","addProductData","id","name","price","description","image","editproduct","checkLoginStatus","localStorage","getItem","navigate","ngOnInit","getProductData","onFileChange","event","file","target","files","reader","FileReader","onload","result","console","log","readAsDataURL","onSubmit","productData","quantity","emit","editProductData$","subscribe","data","length","receivedData","i0","ɵɵdirectiveInject","i1","Router","i2","ProductService","selectors","inputs","outputs","decls","vars","template","AddProductComponent_Template","rf","ctx","styles"],"sources":["C:\\Users\\shali\\OneDrive\\Desktop\\new project shalini\\task-angular updated\\task-angular updated\\src\\app\\main\\add-product\\add-product.component.ts"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ProductService } from 'src/app/login/services/product.service';\n\n@Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.component.html',\n  styleUrls: ['./add-product.component.css']\n})\nexport class AddProductComponent {\n  @Input() editProd: any[] = [];\n  @Output() dataStorageUpdated = new EventEmitter<any>();\n\n  addProductData: any = { \n    id: null,\n    name: '',\n    price: null,\n    description: '',\n    image: ''\n  };\n  \n  editproduct: number = 0;\n\n  constructor(private router: Router, private productservice: ProductService) {\n    this.checkLoginStatus();\n  }\n\n  checkLoginStatus() {\n    if (localStorage.getItem('isLoggedIn') !== 'true') {\n      this.router.navigate(['/login']);\n    }\n  }\n\n  ngOnInit(): void {\n    this.getProductData(); \n  }\n\n  // Handles image upload and stores it as a base64 string\n  onFileChange(event: any) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      // Assign base64 string to product image field\n      this.addProductData.image = reader.result as string;\n      console.log(this.addProductData.image);  // Debugging: Check if image is converted correctly\n    };\n\n    // Only read the file if it exists\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  }\n\n  // Handles form submission and emits product data to the parent component\n  onSubmit() {\n    let productData = {\n      id: this.addProductData.id,\n      name: this.addProductData.name,\n      price: this.addProductData.price,\n      description: this.addProductData.description,\n      image: this.addProductData.image,\n      quantity: 0\n    };\n\n    if (productData) { \n      // Emit data to parent component\n      this.dataStorageUpdated.emit(productData);\n      console.log('Product Submitted:', productData);  // Debugging: Check emitted data\n      \n      // Clear the form after submission (optional)\n      this.addProductData = {\n        id: null,\n        name: '',\n        price: null,\n        description: '',\n        image: ''\n      };\n\n      this.router.navigate(['/product-list']);\n    }\n  }\n\n  getProductData() {\n    this.productservice.editProductData$.subscribe((data) => {\n      this.editproduct = data.length;\n      \n      if (data.length > 0) {\n        const receivedData = data[0];\n        this.addProductData.id = receivedData.id;\n        this.addProductData.name = receivedData.name;\n        this.addProductData.price = receivedData.price;\n        this.addProductData.description = receivedData.description;\n        console.log('Received data in edit:', this.addProductData);  // Debugging: Check received data\n      }\n    });\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}