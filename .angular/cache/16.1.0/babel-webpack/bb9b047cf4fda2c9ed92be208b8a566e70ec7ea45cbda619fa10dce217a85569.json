{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/login/services/product.service\";\nclass ProductListComponent {\n  constructor(router, ProductService) {\n    this.router = router;\n    this.ProductService = ProductService;\n    this.mAddOrEditProduct = false;\n    this.data_storage = [];\n    this.cart_items = [];\n    this.cart_data = [];\n    this.added = false;\n  }\n  ngOnInit() {\n    const data = localStorage.getItem('cart_data');\n    if (data !== null) {\n      this.data_storage = JSON.parse(data);\n    }\n  }\n  addCart() {\n    this.router.navigate(['add-product']);\n    this.mAddOrEditProduct = true;\n  }\n  recivedData(newDataStorage) {\n    const updatedDataStorage = [...this.data_storage, newDataStorage];\n    this.data_storage = updatedDataStorage;\n    localStorage.setItem('cart_data', JSON.stringify(this.data_storage));\n  }\n  showDescription(item) {\n    console.log(item);\n    this.router.navigate([`product-description/${item.id}`]);\n  }\n  addProduct(item) {\n    item.added = true;\n    var addQuantity = {\n      ...item,\n      quantity: 1\n    };\n    const updatedDataStorage = [...this.cart_items, addQuantity];\n    this.cart_items = updatedDataStorage;\n    console.log(this.cart_items);\n    localStorage.setItem('added_cart_data', JSON.stringify(this.cart_items));\n    this.ProductService.incrementCartCount();\n  }\n  deleteUpdate() {\n    const data = localStorage.getItem('added_cart_data');\n    if (data !== null) {\n      this.cart_data = JSON.parse(data);\n    }\n  }\n  deleteProduct(item) {\n    const index = this.data_storage.indexOf(item);\n    let allAddCardData = localStorage.getItem('added_cart_data');\n    if (allAddCardData != null) {\n      let parsedDAta = JSON.parse(allAddCardData);\n      let removedAdd = parsedDAta.filter(val => item.id !== val.id);\n      localStorage.setItem('added_cart_data', JSON.stringify(removedAdd));\n    }\n    if (index !== -1) {\n      this.data_storage.splice(index, 1);\n      localStorage.setItem('cart_data', JSON.stringify(this.data_storage));\n    }\n    this.ProductService.decCartCount();\n  }\n  editProduct(item) {\n    const edit_product = this.data_storage.filter(val => item.id == val.id);\n    this.ProductService.updateEditProductData(edit_product);\n    const index = this.data_storage.indexOf(item);\n    if (index !== -1) {\n      this.data_storage.splice(index, 1);\n      localStorage.setItem('cart_data', JSON.stringify(this.data_storage));\n    }\n  }\n}\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductService));\n};\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"app-product-list\"]],\n  decls: 0,\n  vars: 0,\n  template: function ProductListComponent_Template(rf, ctx) {},\n  styles: [\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFpbi9wcm9kdWN0LWxpc3QvcHJvZHVjdC1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBMEJHIiwic291cmNlc0NvbnRlbnQiOlsiLyogYm9keXtcclxuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcclxufVxyXG5cclxuXHJcbi5saXN0e1xyXG4gICAgcGFkZGluZy10b3A6IDFyZW07XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogcmVtO1xyXG4gICAgcGFkZGluZzogMnJlbTtcclxufVxyXG5cclxuXHJcbi5mb3JtLWdyb3Vwe1xyXG4gICAgcGFkZGluZy10b3A6IDAuNXJlbTtcclxufVxyXG5cclxuLmNhcnR7XHJcbiAgICBwYWRkaW5nLXRvcDogNXJlbTtcclxufVxyXG5cclxuLmNhcmR7XHJcbiAgICB3aWR0aDogMjByZW07XHJcbn1cclxuXHJcbi5pbWctZmx1aWR7XHJcbiAgICBhc3BlY3QtcmF0aW86IDMvMztcclxufSAqLyJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { ProductListComponent };","map":{"version":3,"names":["ProductListComponent","constructor","router","ProductService","mAddOrEditProduct","data_storage","cart_items","cart_data","added","ngOnInit","data","localStorage","getItem","JSON","parse","addCart","navigate","recivedData","newDataStorage","updatedDataStorage","setItem","stringify","showDescription","item","console","log","id","addProduct","addQuantity","quantity","incrementCartCount","deleteUpdate","deleteProduct","index","indexOf","allAddCardData","parsedDAta","removedAdd","filter","val","splice","decCartCount","editProduct","edit_product","updateEditProductData","i0","ɵɵdirectiveInject","i1","Router","i2","selectors","decls","vars","template","ProductListComponent_Template","rf","ctx","styles"],"sources":["C:\\Users\\shali\\OneDrive\\Desktop\\new project shalini\\task-angular updated\\task-angular updated\\src\\app\\main\\product-list\\product-list.component.ts"],"sourcesContent":["import { ProductService } from 'src/app/login/services/product.service';\nimport { Router } from '@angular/router';\nimport { Component } from '@angular/core';\n\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})\nexport class ProductListComponent {\n  mAddOrEditProduct: boolean = false;\n\n\n  data_storage: any[] = [];\n\n  cart_items: any[] = [];\n\n  cart_data: any [] = []\n\n  added: boolean = false;\n \n  constructor(private router : Router, private ProductService : ProductService) {\n    \n  }\n\n  ngOnInit(): void {\n\n    const data = localStorage.getItem('cart_data')\n\n    if (data !== null) {\n      this.data_storage = JSON.parse(data); \n    }\n    \n    \n  }\n\n\n  addCart() {\n    this.router.navigate(['add-product']);\n    this.mAddOrEditProduct = true;\n  }\n\n  recivedData(newDataStorage: any) {\n\n    const updatedDataStorage = [...this.data_storage, newDataStorage];\n\n    this.data_storage = updatedDataStorage;\n\n    localStorage.setItem('cart_data', JSON.stringify(this.data_storage));\n\n  }\n\n  showDescription(item: any) {\n    console.log(item)\n    this.router.navigate([`product-description/${item.id}`])\n  }\n\n  addProduct(item: any) {\n\n    item.added = true;\n\n    var addQuantity = \n    \n      {\n        ...item,\n        quantity: 1\n      }\n    \n\n    const updatedDataStorage = [...this.cart_items, addQuantity];\n\n    this.cart_items = updatedDataStorage;\n\n    console.log(this.cart_items)\n\n    localStorage.setItem('added_cart_data', JSON.stringify(this.cart_items));\n  \n\n    this.ProductService.incrementCartCount();\n\n  }\n\n  deleteUpdate(){\n\n    const data = localStorage.getItem('added_cart_data')\n\n    if (data !== null) {\n      this.cart_data = JSON.parse(data);\n    }\n\n\n  }\n\n\n\n  deleteProduct(item:any){\n    const index = this.data_storage.indexOf(item);\n    let allAddCardData = localStorage.getItem('added_cart_data');\n\n    if(allAddCardData != null){\n      let parsedDAta =  JSON.parse(allAddCardData)\n      let removedAdd = parsedDAta.filter((val : any) => item.id !== val.id )\n      localStorage.setItem('added_cart_data',JSON.stringify(removedAdd));\n    }\n\n    if (index !== -1) {\n      this.data_storage.splice(index, 1);\n      \n      localStorage.setItem('cart_data', JSON.stringify(this.data_storage));\n    }\n\n    this.ProductService.decCartCount();\n\n  }\n\n\n  editProduct(item:any){\n    const edit_product =  this.data_storage.filter((val)=> item.id == val.id)\n    this.ProductService.updateEditProductData(edit_product);\n\n\n    const index = this.data_storage.indexOf(item);\n\n    if (index !== -1) {\n      this.data_storage.splice(index, 1);\n      \n      localStorage.setItem('cart_data', JSON.stringify(this.data_storage));\n    }\n\n\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}