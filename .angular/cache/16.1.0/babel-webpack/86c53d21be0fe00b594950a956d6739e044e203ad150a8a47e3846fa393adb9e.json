{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/login/services/product.service\";\nimport * as i3 from \"@angular/forms\";\nclass ProductListComponent {\n  constructor(router, productservice) {\n    this.router = router;\n    this.productservice = productservice;\n    this.editProd = [];\n    this.dataStorageUpdated = new EventEmitter();\n    this.addProductData = [];\n    this.data_storage = [];\n    this.editproduct = 0;\n    this.checkLoginStatus();\n  }\n  checkLoginStatus() {\n    if (localStorage.getItem('isLoggedIn') !== 'true') {\n      this.router.navigate(['/login']);\n    }\n  }\n  ngOnInit() {\n    this.getProductData();\n  }\n  onFileChange(event) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.addProductData.image = reader.result;\n      const base64String = event.target.result;\n      console.log(base64String);\n    };\n    reader.readAsDataURL(file);\n  }\n  onSubmit() {\n    let productData = {\n      id: this.addProductData.id,\n      name: this.addProductData.name,\n      price: this.addProductData.price,\n      description: this.addProductData.description,\n      image: this.addProductData.image,\n      quantity: 0\n    };\n    if (productData !== null) {\n      this.dataStorageUpdated.emit(productData);\n    }\n    getProductData();\n    {\n      this.productservice.editProductData$.subscribe(data => {\n        this.editproduct = data.length;\n        if (data.length > 0) {\n          const receivedData = data[0];\n          this.addProductData.id = receivedData.id;\n          this.addProductData.name = receivedData.name;\n          this.addProductData.price = receivedData.price;\n          this.addProductData.description = receivedData.description;\n          console.log('Received data in second component:', this.addProductData);\n        }\n      });\n    }\n  }\n}\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductService));\n};\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"app-product-list\"]],\n  inputs: {\n    editProd: \"editProd\"\n  },\n  outputs: {\n    dataStorageUpdated: \"dataStorageUpdated\"\n  },\n  decls: 18,\n  vars: 4,\n  consts: [[1, \"register-form\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"number\", \"placeholder\", \"Id\", \"name\", \"id\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Name\", \"name\", \"name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"placeholder\", \"Price\", \"name\", \"price\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-floating\"], [\"name\", \"description\", \"placeholder\", \"Leave a comment here\", \"id\", \"floatingTextarea2\", 1, \"form-control\", 2, \"height\", \"100px\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingTextarea2\"], [\"name\", \"image\", \"type\", \"file\", \"id\", \"formFile\", 1, \"form-control\", 3, \"change\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function ProductListComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductListComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.addCartData.id = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductListComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.addCartData.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 2)(7, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductListComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.addCartData.price = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\", 6)(10, \"textarea\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductListComponent_Template_textarea_ngModelChange_10_listener($event) {\n        return ctx.addCartData.description = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"label\", 8);\n      i0.ɵɵtext(12, \"Description\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"div\", 2)(14, \"input\", 9);\n      i0.ɵɵlistener(\"change\", function ProductListComponent_Template_input_change_14_listener($event) {\n        return ctx.onFileChange($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 2)(16, \"button\", 10);\n      i0.ɵɵtext(17, \"Add Product\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.addCartData.id);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.addCartData.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.addCartData.price);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.addCartData.description);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\".register-form[_ngcontent-%COMP%]{\\n    padding: 2rem;\\n}\\n\\n.form-group[_ngcontent-%COMP%]{\\n    padding-top: 0.5rem;\\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFpbi9wcm9kdWN0LWxpc3QvcHJvZHVjdC1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLG1CQUFtQjs7QUFFdkIiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLnJlZ2lzdGVyLWZvcm17XHJcbiAgICBwYWRkaW5nOiAycmVtO1xyXG59XHJcblxyXG4uZm9ybS1ncm91cHtcclxuICAgIHBhZGRpbmctdG9wOiAwLjVyZW07XHJcblxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ProductListComponent };","map":{"version":3,"names":["EventEmitter","ProductListComponent","constructor","router","productservice","editProd","dataStorageUpdated","addProductData","data_storage","editproduct","checkLoginStatus","localStorage","getItem","navigate","ngOnInit","getProductData","onFileChange","event","file","target","files","reader","FileReader","onload","image","result","base64String","console","log","readAsDataURL","onSubmit","productData","id","name","price","description","quantity","emit","editProductData$","subscribe","data","length","receivedData","i0","ɵɵdirectiveInject","i1","Router","i2","ProductService","selectors","inputs","outputs","decls","vars","consts","template","ProductListComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","ProductListComponent_Template_form_ngSubmit_1_listener","ProductListComponent_Template_input_ngModelChange_3_listener","$event","addCartData","ɵɵelementEnd","ProductListComponent_Template_input_ngModelChange_5_listener","ProductListComponent_Template_input_ngModelChange_7_listener","ProductListComponent_Template_textarea_ngModelChange_10_listener","ɵɵtext","ProductListComponent_Template_input_change_14_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\shali\\OneDrive\\Desktop\\new project shalini\\task-angular updated\\task-angular updated\\src\\app\\main\\product-list\\product-list.component.ts","C:\\Users\\shali\\OneDrive\\Desktop\\new project shalini\\task-angular updated\\task-angular updated\\src\\app\\main\\product-list\\product-list.component.html"],"sourcesContent":["\nimport { Router } from '@angular/router';\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { ProductService } from 'src/app/login/services/product.service';\n\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})\nexport class ProductListComponent {\n\n  @Input() editProd: any[] = [];\n\n  @Output() dataStorageUpdated = new EventEmitter<any>();\n\n  \n  addProductData:any = [];\n\n  data_storage: any[] = [];\n\n  editproduct:number = 0;\nconstructor(private router : Router, private productservice:ProductService)\n\n          \n{this.checkLoginStatus();}\ncheckLoginStatus(){\n  if (localStorage.getItem('isLoggedIn') !== 'true'){\n    this.router.navigate(['/login']);\n  }\n}\nngOnInit(): void {\n  this.getProductData();\n}\n\n\n\nonFileChange(event: any) {\n  const file = event.target.files[0];\n  const reader = new FileReader();\n\n  reader.onload = () => {\n\n    this.addProductData.image = reader.result as string;\n\n    const base64String = event.target.result;\n    console.log(base64String)\n  };\n\n\n  reader.readAsDataURL(file);\n}\n\n\nonSubmit(){\n\n  let productData = {\n    id: this.addProductData.id,\n    name: this.addProductData.name,\n    price: this.addProductData.price,\n    description: this.addProductData.description,\n    image: this.addProductData.image,\n    quantity: 0\n  }\n  \n   if(productData !== null){\n    this.dataStorageUpdated.emit(productData);\n  }\n\n  getProductData(){\n    this.productservice.editProductData$.subscribe((data) =>{\n\n      this.editproduct = data.length;\n\n      if (data.length > 0) {\n        const receivedData = data[0];\n        this.addProductData.id = receivedData.id;\n        this.addProductData.name = receivedData.name;\n        this.addProductData.price = receivedData.price;\n        this.addProductData.description = receivedData.description;\n        console.log('Received data in second component:', this.addProductData);\n      }\n    })\n  }\n}\n}\n","\n\n<div class=\"register-form\">\n\n    <form  (ngSubmit)=\"onSubmit()\">\n \n         <div class=\"form-group\">\n     \n             <input type=\"number\" [(ngModel)]=\"addCartData.id\" class=\"form-control\"  placeholder=\"Id\" name=\"id\">\n     \n         </div>\n     \n         <div class=\"form-group\">\n     \n             <input type=\"text\" class=\"form-control\" [(ngModel)]=\"addCartData.name\"  placeholder=\"Name\" name=\"name\">\n \n             \n         </div>\n     \n         <div class=\"form-group\">\n     \n             <input type=\"number\" class=\"form-control\" [(ngModel)]=\"addCartData.price\"  placeholder=\"Price\" name=\"price\">\n             \n         </div>\n     \n         <div class=\"form-group\">\n \n             <div class=\"form-floating\">\n                 <textarea class=\"form-control\" name=\"description\" [(ngModel)]=\"addCartData.description\" placeholder=\"Leave a comment here\" id=\"floatingTextarea2\" style=\"height: 100px\"></textarea>\n                 <label for=\"floatingTextarea2\">Description</label>\n             </div>\n             \n         </div>\n     \n         <div class=\"form-group\">\n \n           <input class=\"form-control\" name=\"image\" (change)=\"onFileChange($event)\" type=\"file\" id=\"formFile\">\n                \n         </div>\n     \n     \n         <div class=\"form-group\">\n             <button type=\"submit\" class=\"btn btn-primary\">Add Product</button>\n         </div>\n        \n     \n     </form>\n \n </div>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}