{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nlet ProductListComponent = class ProductListComponent {\n  constructor(router, productservice) {\n    this.router = router;\n    this.productservice = productservice;\n    this.editProd = [];\n    this.dataStorageUpdated = new EventEmitter();\n    this.addCartData = [];\n    this.data_storage = [];\n    this.editproduct = 0;\n    this.checkLoginStatus();\n  }\n  checkLoginStatus() {\n    if (localStorage.getItem('isLoggedIn') !== 'true') {\n      this.router.navigate(['/login']);\n    }\n  }\n  ngOnInit() {\n    this.getProductData();\n  }\n  onFileChange(event) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.addCartData.image = reader.result;\n      const base64String = event.target.result;\n      console.log(base64String);\n    };\n    reader.readAsDataURL(file);\n  }\n  onSubmit() {\n    let productData = {\n      id: this.addCartData.id,\n      name: this.addCartData.name,\n      price: this.addCartData.price,\n      description: this.addCartData.description,\n      image: this.addCartData.image,\n      quantity: 0\n    };\n    if (productData !== null) {\n      this.dataStorageUpdated.emit(productData);\n    }\n    getProductData();\n    {\n      this.productservice.editProductData$.subscribe(data => {\n        this.editproduct = data.length;\n        if (data.length > 0) {\n          const receivedData = data[0];\n          this.addCartData.id = receivedData.id;\n          this.addCartData.name = receivedData.name;\n          this.addCartData.price = receivedData.price;\n          this.addCartData.description = receivedData.description;\n          console.log('Received data in second component:', this.addCartData);\n        }\n      });\n    }\n  }\n};\n__decorate([Input()], ProductListComponent.prototype, \"editProd\", void 0);\n__decorate([Output()], ProductListComponent.prototype, \"dataStorageUpdated\", void 0);\nProductListComponent = __decorate([Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})], ProductListComponent);\nexport { ProductListComponent };","map":{"version":3,"names":["Component","EventEmitter","Input","Output","ProductListComponent","constructor","router","productservice","editProd","dataStorageUpdated","addCartData","data_storage","editproduct","checkLoginStatus","localStorage","getItem","navigate","ngOnInit","getProductData","onFileChange","event","file","target","files","reader","FileReader","onload","image","result","base64String","console","log","readAsDataURL","onSubmit","productData","id","name","price","description","quantity","emit","editProductData$","subscribe","data","length","receivedData","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\shali\\OneDrive\\Desktop\\new project shalini\\task-angular updated\\task-angular updated\\src\\app\\main\\product-list\\product-list.component.ts"],"sourcesContent":["\nimport { Router } from '@angular/router';\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\n\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})\nexport class ProductListComponent {\n\n  @Input() editProd: any[] = [];\n\n  @Output() dataStorageUpdated = new EventEmitter<any>();\n\n  \n  addCartData:any = [];\n\n  data_storage: any[] = [];\n\n  editproduct:number = 0;\nconstructor(private router : Router, private productservice:ProductService)\n\n          \n{this.checkLoginStatus();}\ncheckLoginStatus(){\n  if (localStorage.getItem('isLoggedIn') !== 'true'){\n    this.router.navigate(['/login']);\n  }\n}\nngOnInit(): void {\n  this.getProductData();\n}\n\n\n\nonFileChange(event: any) {\n  const file = event.target.files[0];\n  const reader = new FileReader();\n\n  reader.onload = () => {\n\n    this.addCartData.image = reader.result as string;\n\n    const base64String = event.target.result;\n    console.log(base64String)\n  };\n\n\n  reader.readAsDataURL(file);\n}\n\n\nonSubmit(){\n\n  let productData = {\n    id: this.addCartData.id,\n    name: this.addCartData.name,\n    price: this.addCartData.price,\n    description: this.addCartData.description,\n    image: this.addCartData.image,\n    quantity: 0\n  }\n  \n   if(productData !== null){\n    this.dataStorageUpdated.emit(productData);\n  }\n\n  getProductData(){\n    this.productservice.editProductData$.subscribe((data) =>{\n\n      this.editproduct = data.length;\n\n      if (data.length > 0) {\n        const receivedData = data[0];\n        this.addCartData.id = receivedData.id;\n        this.addCartData.name = receivedData.name;\n        this.addCartData.price = receivedData.price;\n        this.addCartData.description = receivedData.description;\n        console.log('Received data in second component:', this.addCartData);\n      }\n    })\n  }\n}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}